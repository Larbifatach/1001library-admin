<ng-select 
  [items]="library_items"
  [multiple]="library_is_multi"
  [bindLabel]="library_label_key"
  [bindValue]="library_value_key"
  [(ngModel)]="library_value"
  [placeholder]="library_placeholder"
  (search)="library_on_search($event)"
  (change)="library_on_change()"
  [searchable]="true"
  notFoundText="No results found">
  <ng-template ng-label-tmp let-item="item" let-clear="clear">
    <span class="ng-value-label">
      @if(library_img_key && item[library_img_key]){ <img [src]="item[library_img_key]" /> }
      {{ item[library_label_key] }}
    </span>
    <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">Ã—</span>
  </ng-template>
  <ng-template ng-option-tmp let-item="item">
    @if(library_img_key && item[library_img_key]){ <img [src]="item[library_img_key]" /> }
    {{ item[library_label_key] }}
  </ng-template>
</ng-select>
